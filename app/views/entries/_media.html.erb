<% present entry do |entry_presenter| %>
    <% if entry_presenter.media_type && entry_presenter.media_type == :audio %>
        <div class="audio-container entry-callout">
            <div class="audio-image">
                <%= image_tag 'placeholder.svg' %>
            </div>
            <div class="audio-text">
                <%= content_tag :div, strip_tags(entry.feed.title), class: 'entry-feed-title', data: {behavior: 'user_title', feed_id: entry.feed.id} %>
                <div class="audio-title-wrap">
                    <div class="audio-title"><%= entry_presenter.entry_view_title %></div>
                </div>
                <%= entry_presenter.audio_duration %>
            </div>
            <div class="audio-controls">
                <a class="button-text button-empty" href="<%= entry.data['enclosure_url'] %>" target="_blank" rel="noopener noreferrer"><%= svg_tag('icon-download', size: "16x16") %></a>
                <button class="button-text button-empty" data-behavior="play_audio"><%= svg_tag('icon-play', size: "16x16") %></button>
            </div>
        </div>

        <div class="hide" data-behavior="audio_markup">
            <div class="audio-container">
                <div class="audio-image">
                    <%= svg_tag('icon-audio', size: "16x16") %>
                </div>
                <div class="audio-text">
                    <%= content_tag :div, strip_tags(entry.feed.title), class: 'entry-feed-title', data: {behavior: 'user_title', feed_id: entry.feed.id} %>
                    <div class="audio-title-wrap"><div class="audio-title"><%= entry_presenter.entry_view_title %></div></div>
                </div>
            </div>
            <div class="audio-player-controls">
                <button class="button-text button-empty" data-behavior="audio_skip_backward">&lt;-</button>
                <button class="button-text button-empty" data-behavior="audio_play">PLAY</button>
                <button class="button-text button-empty" data-behavior="audio_skip_forward">-&gt;</button>
            </div>
            <div class="audio-progress">
                <%= audio_tag entry.data['enclosure_url'], preload: 'none', id: 'audio_player' %>
            </div>
        </div>
    <% elsif entry_presenter.media_type %>
        <div class="media-container">
            <%= entry_presenter.media.html_safe %>
        </div>
    <% end %>
<% end %>
